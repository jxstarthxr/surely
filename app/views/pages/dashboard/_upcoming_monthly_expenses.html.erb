<%# locals: (upcoming_expenses_series:) %>
<%# 12-month upcoming expenses bar chart (current + next 11 months) - used in dashboard section %>
<% if upcoming_expenses_series.present? && upcoming_expenses_series.values.any? { |v| v.value > 0 } %>
  <div class="px-4 -mt-1">
    <div
      id="upcomingExpensesChart"
      class="w-full flex-1 relative min-h-64"
      data-controller="upcoming-expenses-chart"
      data-upcoming-expenses-chart-data-value="<%= { values: upcoming_expenses_series.as_json[:values] }.to_json %>"
      data-upcoming-expenses-chart-currency-value="<%= Current.family.currency %>">
    </div>
  </div>
<% else %>
  <div class="h-[300px] lg:h-[340px] bg-container py-4 flex flex-col items-center justify-center">
    <div class="space-y-3 text-center flex flex-col items-center">
      <%= render DS::FilledIcon.new(
        variant: :container,
        icon: "calendar"
      ) %>

      <p class="text-sm font-medium text-primary"><%= t("pages.dashboard.upcoming_monthly_expenses.no_data_title") %></p>
      <p class="text-secondary text-sm"><%= t("pages.dashboard.upcoming_monthly_expenses.no_data_description") %></p>
      <%= render DS::Link.new(
        text: t("pages.dashboard.upcoming_monthly_expenses.add_transaction"),
        icon: "plus",
        href: new_transaction_path,
        frame: :modal
      ) %>
    </div>
  </div>
<% end %>
